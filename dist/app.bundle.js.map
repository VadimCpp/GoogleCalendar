{"version":3,"sources":["webpack:///webpack/bootstrap 5712096cf689788e9f90","webpack:///./src/app.js","webpack:///./src/model/googlecalendar.js","webpack:///./src/view/simpleview.js"],"names":["App","config","_googleCalendar","apiKey","calendarId","that","document","getElementById","addEventListener","e","updateSchedule","disableButtons","displayProgress","hideError","load","success","hideProgress","enableButtons","displayData","displayError","classList","add","remove","simpleView","render","getData","app","window","onload","start","GoogleCalendar","requestConfig","_calendarUrl","_timeMin","_timeMax","_recurringEvents","_data","callback","finalURL","concat","request","XMLHttpRequest","open","status","JSON","parse","responseText","console","error","err","onerror","send","SimpleView","elementId","_elementId","data","warn","upcomingTopN","element","result","upcomingResultTemp","upcomingResult","upcomingCounter","items","filter","item","hasOwnProperty","sort","_comp","reverse","i","_isPast","end","dateTime","date","push","innerHTML","_transformToParagraph","compareDate","Date","now","getTime","a","b","event","retVal","dateStart","_getDateInfo","_getSimpleFormattedDate","summary","_getSimpleLocation","location","startDate","getDate","getMonth","getFullYear","getHours","getMinutes","formattedTime","_getFormattedTime24","dayNameStart","_getDayNameFormatted","_getMonthName","hour","minute","dateFormatted","_getDayName","_getDateFormatted","getDay","day","dayNames","dateInfo","month","monthNames","simpleLocation","secondCommaPosition","indexOf","substr"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;AC7DA;;;;AACA;;;;;;;;AAEA;;;IAGMA,G;;AAEF;;;;AAIA,iBAAYC,MAAZ,EAAoB;AAAA;;AAChB;;;;AAIA,aAAKC,eAAL,GAAuB,6BAAmB,EAAEC,cAAF,EAAUC,sBAAV,EAAnB,CAAvB;AACH;;AAGD;;;;;;;;;gCAKQ;AACJ,gBAAIC,OAAO,IAAX;;AAEAC,qBAASC,cAAT,CAAwB,UAAxB,EAAoCC,gBAApC,CAAqD,OAArD,EAA8D,UAASC,CAAT,EAAY;AACtEJ,qBAAKK,cAAL;AACH,aAFD;;AAIAL,iBAAKK,cAAL;AACH;;AAGD;;;;;;;yCAIiB;AAAA;;AACb,iBAAKC,cAAL;AACA,iBAAKC,eAAL;AACA,iBAAKC,SAAL;;AAEA,iBAAKX,eAAL,CAAqBY,IAArB,CAA0B,UAACC,OAAD,EAAa;AACnC,oBAAIA,OAAJ,EAAa;AACT,0BAAKC,YAAL;AACA,0BAAKC,aAAL;AACA,0BAAKC,WAAL;AACH,iBAJD,MAIO;AACH,0BAAKF,YAAL;AACA,0BAAKC,aAAL;AACA,0BAAKE,YAAL;AACH;AACJ,aAVD;AAWH;;AAED;;;;;;yCAGiB;AACbb,qBAASC,cAAT,CAAwB,UAAxB,EAAoCa,SAApC,CAA8CC,GAA9C,CAAkD,UAAlD;AACAf,qBAASC,cAAT,CAAwB,UAAxB,EAAoCa,SAApC,CAA8CC,GAA9C,CAAkD,UAAlD;AACH;;AAED;;;;;;wCAGgB;AACZf,qBAASC,cAAT,CAAwB,UAAxB,EAAoCa,SAApC,CAA8CE,MAA9C,CAAqD,UAArD;AACAhB,qBAASC,cAAT,CAAwB,UAAxB,EAAoCa,SAApC,CAA8CE,MAA9C,CAAqD,UAArD;AACH;;AAED;;;;;;0CAGkB;AACdhB,qBAASC,cAAT,CAAwB,eAAxB,EAAyCa,SAAzC,CAAmDE,MAAnD,CAA0D,kBAA1D;AACH;;AAED;;;;;;uCAGe;AACXhB,qBAASC,cAAT,CAAwB,eAAxB,EAAyCa,SAAzC,CAAmDC,GAAnD,CAAuD,kBAAvD;AACH;;AAED;;;;;;uCAGe;AACXf,qBAASC,cAAT,CAAwB,YAAxB,EAAsCa,SAAtC,CAAgDE,MAAhD,CAAuD,kBAAvD;AACH;;AAED;;;;;;oCAGY;AACRhB,qBAASC,cAAT,CAAwB,YAAxB,EAAsCa,SAAtC,CAAgDC,GAAhD,CAAoD,kBAApD;AACH;;;sCAGa;AACV;;;AAGA,gBAAIE,aAAa,yBAAe,aAAf,CAAjB;;AAEAA,uBAAWC,MAAX,CAAkB,KAAKtB,eAAL,CAAqBuB,OAArB,EAAlB;AACH;;;;;;AAIL;;;;;;AAIA,IAAItB,SAAS,yCAAb;;AAEA;;;;AAIA,IAAIC,aAAa,sDAAjB;;AAEA;;;AAGA,IAAIsB,MAAM,IAAI1B,GAAJ,CAAQ,EAAEG,cAAF,EAAUC,sBAAV,EAAR,CAAV;;AAEAuB,OAAOC,MAAP,GAAgB,YAAM;AAClBF,QAAIG,KAAJ;AACH,CAFD,C;;;;;;;;;;;;;;;;;;;;ACpIA;;;IAGqBC,c;AAEjB,0BAAYC,aAAZ,EAA2B;AAAA;;AAEvB;;;;AAIA,SAAKC,YAAL,GAAoB,sDACdD,cAAc3B,UADA,GAEd,cAFc,GAGd2B,cAAc5B,MAHpB;;AAKA;;;;AAIA,SAAK8B,QAAL,GAAgB,2BAThB;;AAWA;;;;AAIA,SAAKC,QAAL,GAAgB,2BAAhB;;AAEA;;;;AAIA,SAAKC,gBAAL,GAAwB,IAAxB;;AAEA;;;;AAIA,SAAKC,KAAL,GAAa,IAAb;AACH;;AAED;;;;;;;;;yBAKKC,Q,EAAU;AAAA;;AAEX;;;AAGA,UAAIC,WAAW,KAAKN,YAApB;;AAEAM,iBAAWA,SAASC,MAAT,CAAgB,sCAAhB,CAAX;AACAD,iBAAWA,SAASC,MAAT,CAAgB,cAAc,KAAKN,QAAnC,CAAX;AACAK,iBAAWA,SAASC,MAAT,CAAgB,cAAc,KAAKL,QAAnC,CAAX;;AAEA;;;AAGA,UAAIM,UAAU,IAAIC,cAAJ,EAAd;;AAEAD,cAAQE,IAAR,CAAa,KAAb,EAAoBJ,QAApB,EAA8B,IAA9B;;AAEAE,cAAQZ,MAAR,GAAiB,YAAM;AACnB,YAAIY,QAAQG,MAAR,IAAkB,GAAlB,IAAyBH,QAAQG,MAAR,GAAiB,GAA9C,EAAmD;;AAE/C,gBAAKP,KAAL,GAAaQ,KAAKC,KAAL,CAAWL,QAAQM,YAAnB,CAAb,CAA8C;AAC9CT,mBAAS,IAAT,EAAe,MAAKD,KAApB;AACH,SAJD,MAIO;AACHW,kBAAQC,KAAR,CAAcC,GAAd;AACAZ,mBAAS,KAAT,EAAgB,IAAhB;AACH;AACJ,OATD;;AAWAG,cAAQU,OAAR,GAAkB,YAAM;AACpBH,gBAAQC,KAAR,CAAcC,GAAd;AACAZ,iBAAS,KAAT,EAAgB,IAAhB;AACH,OAHD;;AAKAG,cAAQW,IAAR;AACH;;;;;AAED;;;;8BAIU;AACN,aAAO,KAAKf,KAAZ;AACH;;;;;;kBAtFgBN,c;AAwFpB,C;;;;;;;;;;;;;;;;;AC3FD;;;IAGqBsB,U;;AAEjB;;;;AAIA,sBAAYC,SAAZ,EAAuB;AAAA;;AAEnB;;;;AAIA,SAAKC,UAAL,GAAkBD,SAAlB;AACH;;AAED;;;;;;;;2BAIOE,I,EAAM;;AAET,UAAI,CAACA,IAAL,EAAW;AACPR,gBAAQS,IAAR,CAAa,iDAAb;AACA;AACH;;AAED;;;;;AAKA,UAAMC,eAAe,EAArB;;AAEA;;;AAGA,UAAIC,UAAUpD,SAASC,cAAT,CAAwB,KAAK+C,UAA7B,CAAd;;AAEA;;;AAGA,UAAIK,SAAS,EAAb;;AAEA;;;AAGA,UAAIC,qBAAqB,EAAzB;;AAGA;;;AAGA,UAAIC,iBAAiB,EAArB;;AAEA;;;AAGA,UAAIC,kBAAkB,CAAtB;;AAEA;AACAH,eAASJ,KAAKQ,KAAL,CAAWC,MAAX,CAAkB;AAAA,eAAQC,QAAQA,KAAKC,cAAL,CAAoB,QAApB,CAAR,IAAyCD,KAAKtB,MAAL,KAAgB,WAAjE;AAAA,OAAlB,EAAgGwB,IAAhG,CAAqG,KAAKC,KAA1G,EAAiHC,OAAjH,EAAT;;AAEA,UAAIC,UAAJ;;AAEA,WAAKA,CAAL,IAAUX,MAAV,EAAkB;AACd,YAAI,CAAC,KAAKY,OAAL,CAAaZ,OAAOW,CAAP,EAAUE,GAAV,CAAcC,QAAd,IAA0Bd,OAAOW,CAAP,EAAUE,GAAV,CAAcE,IAArD,CAAL,EAAiE;AAC7Dd,6BAAmBe,IAAnB,CAAwBhB,OAAOW,CAAP,CAAxB;AACH;AACJ;;AAEDV,yBAAmBS,OAAnB;;AAEA,WAAKC,CAAL,IAAUV,kBAAV,EAA8B;AAC1B,YAAIE,kBAAkBL,YAAtB,EAAoC;AAChCI,yBAAec,IAAf,CAAoBf,mBAAmBU,CAAnB,CAApB;AACAR;AACH;AACJ;;AAED;;;AAGA,UAAIc,YAAY,yCAAhB;;AAEA,WAAKN,CAAL,IAAUT,cAAV,EAA0B;AACtBe,qBAAa,KAAKC,qBAAL,CAA2BhB,eAAeS,CAAf,CAA3B,CAAb;AACH;;AAEDM,mBAAa,qHAAb;;AAEAlB,cAAQkB,SAAR,GAAoBA,SAApB;AACH;;AAED;;;;;;;;;;4BAOQF,I,EAAM;AACV;;;AAGA,UAAII,cAAc,IAAIC,IAAJ,CAASL,IAAT,CAAlB;;AAEA;;;AAGA,UAAIM,MAAM,IAAID,IAAJ,EAAV;;AAEA,UAAIC,IAAIC,OAAJ,KAAgBH,YAAYG,OAAZ,EAApB,EAA2C;AACvC,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH;;;;;AAED;;;;;;;;0BAQMC,C,EAAGC,C,EAAG;AACR,aAAO,IAAIJ,IAAJ,CAASG,EAAErD,KAAF,CAAQ4C,QAAR,IAAoBS,EAAErD,KAAF,CAAQ6C,IAArC,EAA2CO,OAA3C,KAAuD,IAAIF,IAAJ,CAASI,EAAEtD,KAAF,CAAQ4C,QAAR,IAAoBU,EAAEtD,KAAF,CAAQ6C,IAArC,EAA2CO,OAA3C,EAA9D;AACH;;AAED;;;;;;;;;;0CAOsBG,K,EAAO;AACzB;;;AAGA,UAAIC,SAAS,KAAb;;AAEA;;;AAGA,UAAIC,YAAY,KAAKC,YAAL,CAAkBH,MAAMvD,KAAN,CAAY4C,QAAZ,IAAwBW,MAAMvD,KAAN,CAAY6C,IAAtD,CAAhB;;AAEAW,gBAAU,KAAKG,uBAAL,CAA6BF,SAA7B,CAAV,CAAkD;AAClDD,gBAAU,KAAV;AACAA,gBAAU,MAAMD,MAAMK,OAAZ,GAAsB,GAAhC;AACAJ,gBAAU,IAAV;;AAEAA,gBAAU,KAAKK,kBAAL,CAAwBN,MAAMO,QAAN,IAAkB,EAA1C,CAAV,EAEAN,UAAU,MAFV;;AAIA,aAAOA,MAAP;AACH;;AAED;;;;;;;;;;iCAOaO,S,EAAW;AACpB;;;AAGA,UAAIlB,OAAO,IAAIK,IAAJ,CAASa,SAAT,CAAX;;AAEA,aAAO,CAAClB,KAAKmB,OAAL,EAAD,EAAiBnB,KAAKoB,QAAL,EAAjB,EAAkCpB,KAAKqB,WAAL,EAAlC,EAAsDrB,KAAKsB,QAAL,EAAtD,EAAuEtB,KAAKuB,UAAL,EAAvE,EAA0F,CAA1F,EAA6F,CAA7F,CAAP;AACH;;;;;AAGD;;;;;4CAKwBX,S,EAAW;AAC/B;;;AAGA,UAAIY,gBAAgB,mBAAmB,KAAKC,mBAAL,CAAyBb,SAAzB,CAAvC;;AAEA;;;AAGA,UAAIc,eAAe,KAAKC,oBAAL,CAA0Bf,SAA1B,CAAnB;;AAEA,aAAO,mBAAmBA,UAAU,CAAV,CAAnB,GAAkC,GAAlC,GAAwC,KAAKgB,aAAL,CAAmBhB,UAAU,CAAV,CAAnB,CAAxC,GAA2E,IAA3E,GAAkFc,YAAlF,GAAiG,GAAjG,GAAuGF,aAA9G;AACH;;AAED;;;;;;;;wCAKoBxB,I,EAAM;AACtB,UAAIwB,gBAAgB,EAApB;AAAA,UACIK,OAAO7B,KAAK,CAAL,CADX;AAAA,UAEI8B,SAAS9B,KAAK,CAAL,CAFb;;AAIA;AACA8B,eAAS,CAACA,SAAS,EAAT,GAAc,GAAd,GAAoB,EAArB,IAA2BA,MAApC;;AAEA;AACAD,aAAO,CAACA,OAAO,EAAP,GAAY,GAAZ,GAAkB,EAAnB,IAAyBA,IAAhC;;AAEA;AACAL,sBAAgBK,OAAO,GAAP,GAAaC,MAA7B;;AAEA,aAAON,aAAP;AACH;;AAED;;;;;;;;yCAKqBO,a,EAAe;;AAEhC,aAAO,KAAKC,WAAL,CAAiB,KAAKC,iBAAL,CAAuBF,aAAvB,EAAsCG,MAAtC,EAAjB,IAAmE,GAA1E;AAEH;;AAED;;;;;;;;gCAKYC,G,EAAK;;AAEb;;;AAGA,UAAIC,WAAW,CACX,aADW,EAEX,aAFW,EAGX,SAHW,EAIX,OAJW,EAKX,SALW,EAMX,SANW,EAOX,SAPW,CAAf;;AAUA,aAAOA,SAASD,GAAT,CAAP;AACH;;;;;AAED;;;;;sCAKkBE,Q,EAAU;;AAExB,aAAO,IAAIhC,IAAJ,CAASgC,SAAS,CAAT,CAAT,EAAsBA,SAAS,CAAT,CAAtB,EAAmCA,SAAS,CAAT,CAAnC,EAAgDA,SAAS,CAAT,CAAhD,EAA6DA,SAAS,CAAT,IAAc,CAA3E,EAA8E,CAA9E,CAAP;AAEH;;AAED;;;;;;;;;;kCAOcC,K,EAAO;;AAEjB;;;AAGA,UAAIC,aAAa,CACb,QADa,EAEb,SAFa,EAGb,OAHa,EAIb,QAJa,EAKb,KALa,EAMb,MANa,EAOb,MAPa,EAQb,SARa,EASb,UATa,EAUb,SAVa,EAWb,QAXa,EAYb,SAZa,CAAjB;;AAeA,aAAOA,WAAWD,KAAX,CAAP;AACH;;;;;AAED;;;;;uCAKmBrB,Q,EAAU;;AAEzB;;;AAGA,UAAIuB,iBAAiB,EAArB;;AAEA;;;AAGA,UAAIC,sBAAsBxB,SAASyB,OAAT,CAAiB,GAAjB,EAAsBzB,SAASyB,OAAT,CAAiB,GAAjB,EAAsB,CAAtB,IAA2B,CAAjD,CAA1B;;AAEA,UAAID,sBAAsB,CAA1B,EAA6B;AAC3BD,yBAAiBvB,SAAS0B,MAAT,CAAgB,CAAhB,EAAmBF,mBAAnB,CAAjB;AACD;;AAED,aAAO,mBAAmBD,cAA1B;AACH;;;;;;kBA3TgB9D,U","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5712096cf689788e9f90","import GoogleCalendar from './model/googlecalendar.js';\nimport SimpleView from './view/simpleview.js';\n\n/**\n * Class representing an App.\n */\nclass App {\n\n    /**\n     * @param {{ apiKey: !string, calendarId: !string }} config\n     * @public\n     */\n    constructor(config) {\n        /**\n         * @type {!GoogleCalendar}\n         * @private\n         */\n        this._googleCalendar = new GoogleCalendar({ apiKey, calendarId });\n    }\n\n\n    /**\n     * Request Google Calendar data and render information.\n     *   \n     * @public\n     */\n    start() {\n        var that = this;\n\n        document.getElementById('btn-load').addEventListener('click', function(e) {\n            that.updateSchedule();\n        });\n\n        that.updateSchedule();\n    }\n\n\n    /**\n     * Update the schedule.\n     * @public\n     */\n    updateSchedule() {\n        this.disableButtons();\n        this.displayProgress();\n        this.hideError();\n\n        this._googleCalendar.load((success) => {\n            if (success) {\n                this.hideProgress();\n                this.enableButtons();\n                this.displayData();\n            } else {\n                this.hideProgress();\n                this.enableButtons();\n                this.displayError();\n            }\n        });\n    }\n\n    /**\n     * @public\n     */\n    disableButtons() {\n        document.getElementById('btn-load').classList.add('disabled');\n        document.getElementById('btn-copy').classList.add('disabled');\n    }\n\n    /**\n     * @public\n     */\n    enableButtons() {\n        document.getElementById('btn-load').classList.remove('disabled');\n        document.getElementById('btn-copy').classList.remove('disabled');\n    }\n\n    /**\n     * @public\n     */\n    displayProgress() {\n        document.getElementById('view-progress').classList.remove('container_hidden');\n    }\n\n    /**\n     * @public\n     */\n    hideProgress() {\n        document.getElementById('view-progress').classList.add('container_hidden');\n    }\n\n    /**\n     * @public\n     */\n    displayError() {\n        document.getElementById('view-error').classList.remove('container_hidden');\n    }\n\n    /**\n     * @public\n     */\n    hideError() {\n        document.getElementById('view-error').classList.add('container_hidden');\n    }\n\n\n    displayData() {\n        /**\n         * @type {!SimpleView}\n         */\n        let simpleView = new SimpleView('simple-view');\n\n        simpleView.render(this._googleCalendar.getData());\n    }\n\n}\n\n/**\n * From Google Developer Console\n * @type {!string}\n */\nlet apiKey = \"AIzaSyBOXnnT1F-h9s1FP3063BQ_o0KtD7Y0DPs\";\n\n/**\n * From Google Calendar Web App\n * @type {!string}\n */\nlet calendarId = \"dveenjcu4k5ktd3k8pv4iul2bk@group.calendar.google.com\";\n\n/**\n * @type {!App}\n */\nlet app = new App({ apiKey, calendarId });\n\nwindow.onload = () => {\n    app.start();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","/**\n * Class only loads GoogleCalendar data.\n */\nexport default class GoogleCalendar {\n\n    constructor(requestConfig) {\n\n        /**\n         * @type {!string}\n         * @private\n         */\n        this._calendarUrl = 'https://www.googleapis.com/calendar/v3/calendars/' \n            + requestConfig.calendarId \n            + '/events?key=' \n            + requestConfig.apiKey,\n\n        /**\n         * @type {!string}\n         * @private\n         */\n        this._timeMin = '2016-06-03T10:00:00-07:00';\n\n        /**\n         * @type {!string}\n         * @private\n         */\n        this._timeMax = '2020-06-03T10:00:00-07:00';\n\n        /**\n         * @type {!boolean}\n         * @private\n         */\n        this._recurringEvents = true;\n\n        /**\n         * @type {!Object}\n         * @private\n         */\n        this._data = null;\n    }\n\n    /**\n     * Gets JSON from Google Calendar and transfroms it into html list items and appends it to past or upcoming events list\n     * @param { !function( !boolean, ?Object ) }\n     * @public\n     */\n    load(callback) {\n\n        /**\n         * @type {!string}\n         */\n        let finalURL = this._calendarUrl;\n\n        finalURL = finalURL.concat('&singleEvents=true&orderBy=starttime');\n        finalURL = finalURL.concat('&timeMin=' + this._timeMin);\n        finalURL = finalURL.concat('&timeMax=' + this._timeMax);\n        \n        /**\n         * @type {!XMLHttpRequest}\n         */\n        let request = new XMLHttpRequest();\n\n        request.open('GET', finalURL, true);\n        \n        request.onload = () => {\n            if (request.status >= 200 && request.status < 400) {\n\n                this._data = JSON.parse(request.responseText);;\n                callback(true, this._data);\n            } else {\n                console.error(err);\n                callback(false, null);\n            }\n        };\n        \n        request.onerror = () => {\n            console.error(err);\n            callback(false, null);\n        };\n        \n        request.send();\n    };\n\n    /**\n     * @return {?Object}\n     * @public\n     */\n    getData() {\n        return this._data;\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/googlecalendar.js","/**\n * Class SimpleView renders calendar events.\n */\nexport default class SimpleView {\n    \n    /**\n     * @param {!string} elementId\n     * @public\n     */\n    constructor(elementId) {\n\n        /**\n         * @type {!string}\n         * @private\n         */\n        this._elementId = elementId;\n    }\n\n    /**\n     * @param {!Object} data\n     * @public\n     */\n    render(data) {\n\n        if (!data) {\n            console.warn('SimpleView: cannot render null object. Skipped!');\n            return;\n        }\n\n        /**\n         * The maximum number of events allowed to display\n         *\n         * @const {!number}\n         */\n        const upcomingTopN = 10;\n\n        /**\n         * @type {!Element}\n         */\n        let element = document.getElementById(this._elementId);\n\n        /**\n         * @type {!Array}\n         */\n        let result = [];\n\n        /**\n         * @type {!Array}\n         */\n        let upcomingResultTemp = [];\n\n\n        /**\n         * @type {!Array}\n         */\n        let upcomingResult = [];\n\n        /**\n         * @type {!number}\n         */\n        let upcomingCounter = 0;\n\n        // Remove cancelled events, sort by date\n        result = data.items.filter(item => item && item.hasOwnProperty('status') && item.status !== 'cancelled').sort(this._comp).reverse();\n\n        let i;\n\n        for (i in result) {\n            if (!this._isPast(result[i].end.dateTime || result[i].end.date)) {\n                upcomingResultTemp.push(result[i]);\n            }\n        }\n\n        upcomingResultTemp.reverse();\n\n        for (i in upcomingResultTemp) {\n            if (upcomingCounter < upcomingTopN) {\n                upcomingResult.push(upcomingResultTemp[i]);\n                upcomingCounter++;\n            }\n        }\n\n        /**\n         * @type {!string}\n         */\n        let innerHTML = '<h1 class=\"h2\"> Анонс мероприятий </h1>';\n\n        for (i in upcomingResult) {\n            innerHTML += this._transformToParagraph(upcomingResult[i]);\n        }\n\n        innerHTML += '<p> Подробнее на сайте ➡️: <a href=\"http://events4friends.vadimcpp.ru/\">http://events4friends.vadimcpp.ru/</a> </p>';\n\n        element.innerHTML = innerHTML;\n    }\n\n    /**\n     * Check if date is later then now\n     *\n     * @param {!Date} date\n     * @return {!boolean}\n     * @private\n     */\n    _isPast(date) {\n        /**\n         * @type {!string}\n         */\n        let compareDate = new Date(date);\n\n        /**\n         * @type {!string}\n         */\n        let now = new Date();\n\n        if (now.getTime() > compareDate.getTime()) {\n            return true;\n        }\n\n        return false;\n    };\n\n    /**\n     * Compare dates.\n     *\n     * @param {!Object} a\n     * @param {!Object} b\n     * @return {!number}\n     * @private\n     */\n    _comp(a, b) {\n        return new Date(a.start.dateTime || a.start.date).getTime() - new Date(b.start.dateTime || b.start.date).getTime();  \n    }\n\n    /**\n     * Transforms record to a line\n     *\n     * @param {!Object} event\n     * @return {!string}\n     * @private\n     */\n    _transformToParagraph(event) {\n        /**\n         * @type {!string}\n         */\n        let retVal = '<p>';\n\n        /**\n         * @type {!Array}\n         */\n        let dateStart = this._getDateInfo(event.start.dateTime || event.start.date);\n\n        retVal += this._getSimpleFormattedDate(dateStart);;\n        retVal += ' － ';\n        retVal += '«' + event.summary + '»';\n        retVal += ', ';\n\n        retVal += this._getSimpleLocation(event.location || ''),\n\n        retVal += '</p>';\n\n        return retVal;\n    }\n\n    /**\n     * Get temp array with information abou day in followin format: [day number, month number, year, hours, minutes]\n     *\n     * @type {!string} startDate\n     * @return {!Array}\n     * @private\n     */\n    _getDateInfo(startDate) {\n        /**\n         * @type {!Date}\n         */\n        let date = new Date(startDate);\n\n        return [date.getDate(), date.getMonth(), date.getFullYear(), date.getHours(), date.getMinutes(), 0, 0];\n    };\n\n\n    /**\n     * @type {!Array} dateStart\n     * @return {!string} - date, month, day, time\n     * @private\n     */\n    _getSimpleFormattedDate(dateStart) {\n        /**\n         * @type {!string}\n         */        \n        let formattedTime = '🕗&nbsp;&nbsp;' + this._getFormattedTime24(dateStart);\n            \n        /**\n         * @type {!string}\n         */  \n        let dayNameStart = this._getDayNameFormatted(dateStart);\n\n        return '📅&nbsp;&nbsp;' + dateStart[0] + ' ' + this._getMonthName(dateStart[1]) + ', ' + dayNameStart + ' ' + formattedTime;\n    }\n\n    /**\n     * @type {!Array} date\n     * @return {!string} - hh:mm\n     * @private\n     */\n    _getFormattedTime24(date) {\n        var formattedTime = '',\n            hour = date[3],\n            minute = date[4];\n\n        // Ensure 2-digit minute value.\n        minute = (minute < 10 ? '0' : '') + minute;\n\n        // Ensure 2-digit hour value.\n        hour = (hour < 10 ? '0' : '') + hour;\n\n        // Format time.\n        formattedTime = hour + ':' + minute;\n\n        return formattedTime;\n    }\n\n    /**\n     * @type {!Array} dateFormatted\n     * @return {!string} - ????\n     * @private\n     */\n    _getDayNameFormatted(dateFormatted) {\n\n        return this._getDayName(this._getDateFormatted(dateFormatted).getDay()) + ' ';\n\n    }\n    \n    /**\n     * @type {!number} day\n     * @return {!string} - week day\n     * @private\n     */        \n    _getDayName(day) {\n\n        /**\n         * @type {!Array}\n         */        \n        let dayNames = [\n            'воскресенье', \n            'понедельник', \n            'вторник', \n            'среда', \n            'четверг', \n            'пятница', \n            'суббота'\n        ];\n\n        return dayNames[day];\n    };    \n\n    /**\n     * @type {!Array} dateInfo\n     * @return {!Date}\n     * @private\n     */        \n    _getDateFormatted(dateInfo) {\n\n        return new Date(dateInfo[2], dateInfo[1], dateInfo[0], dateInfo[3], dateInfo[4] + 0, 0);\n\n    }\n\n    /**\n     * Get month name according to index.\n     *\n     * @type {!number} month\n     * @return {!string}\n     * @private\n     */      \n    _getMonthName(month) {\n\n        /**\n         * @type {!Array}\n         */      \n        let monthNames = [\n            'января', \n            'февраля', \n            'марта', \n            'апреля', \n            'мая', \n            'июня', \n            'июля', \n            'августа', \n            'сентября', \n            'октября', \n            'ноября', \n            'декабря'\n        ];\n\n        return monthNames[month];\n    };\n\n    /**\n     * @type {!string} location\n     * @return {!string}\n     * @private\n     */   \n    _getSimpleLocation(location) {\n\n        /**\n         * @type {!string}\n         */  \n        let simpleLocation = '';\n\n        /**\n         * @type {!number}\n         */  \n        let secondCommaPosition = location.indexOf(',', location.indexOf(',', 0) + 1);\n\n        if (secondCommaPosition > 0) {\n          simpleLocation = location.substr(0, secondCommaPosition);\n        }\n\n        return '📍&nbsp;&nbsp;' + simpleLocation;\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/simpleview.js"],"sourceRoot":""}